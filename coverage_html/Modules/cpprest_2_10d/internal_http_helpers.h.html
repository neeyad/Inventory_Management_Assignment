<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
	<head>
        <meta charset="utf-8"/>
	    <title>internal_http_helpers.h</title>
	    <link href="../../third-party/google-code-prettify/prettify-CppCoverage.css" type="text/css" rel="stylesheet" />
	    <script type="text/javascript" src="../../third-party/google-code-prettify/prettify.js"></script>
	</head>
    <body onload="prettyPrint()">
        <h4></h4>
        <pre class="prettyprint lang-cpp linenums">
/***
 * Copyright (C) Microsoft. All rights reserved.
 * Licensed under the MIT license. See LICENSE.txt file in the project root for full license information.
 ****/

#pragma once

#include "cpprest/asyncrt_utils.h"
#include "cpprest/details/basic_types.h"
#include &lt;string&gt;

namespace web
{
namespace http
{
namespace details
{
/// &lt;summary&gt;
/// Helper function to get the default HTTP reason phrase for a status code.
/// &lt;/summary&gt;
utility::string_t get_default_reason_phrase(status_code code);

template&lt;class Char, class Fn&gt;
void trim_if(std::basic_string&lt;Char&gt;&amp; str, Fn test)
<span style = "background-color:#fdd">{
    if (str.empty())</span>
    {
<span style = "background-color:#fdd">        return;</span>
    }

<span style = "background-color:#fdd">    auto first = str.begin();
    auto last = str.end();</span>

<span style = "background-color:#fdd">    if (test(*first))</span>
    {
        // removals at the front, and maybe the back
        for (;;)
        {
<span style = "background-color:#fdd">            ++first;
            if (first == last)</span>
            {
                // all removals
<span style = "background-color:#fdd">                str.clear();
                return;</span>
            }

<span style = "background-color:#fdd">            if (!test(*first))</span>
            {
<span style = "background-color:#fdd">                break;</span>
            }
<span style = "background-color:#fdd">        }</span>

        do
        {
<span style = "background-color:#fdd">            --last;
        } while (test(*last));
        ++last;
        str.assign(first, last);
        return;</span>
    }

    // no removals at the front, only maybe the back
<span style = "background-color:#fdd">    --last;
    if (!test(*last))</span>
    {
        // no removals at all
<span style = "background-color:#fdd">        return;</span>
    }

    do
    {
<span style = "background-color:#fdd">        --last;
    } while (test(*last));
    ++last;
    str.erase(last, str.end());
}</span>

template&lt;class Char&gt;
void trim_nulls(std::basic_string&lt;Char&gt;&amp; str)
<span style = "background-color:#fdd">{
    trim_if(str, [](const Char c) { return c == Char {}; });
}</span>

template&lt;class Char&gt;
void trim_whitespace(std::basic_string&lt;Char&gt;&amp; str)
<span style = "background-color:#fdd">{
    trim_if(str, [](const Char c) { return ::utility::details::is_space(c); });
}</span>

bool validate_method(const utility::string_t&amp; method);

} // namespace details
} // namespace http
} // namespace web

namespace web
{
namespace http
{
namespace compression
{
class decompress_factory;

namespace details
{
namespace builtin
{
/// &lt;summary&gt;
/// Helper function to get the set of built-in decompress factories
/// &lt;/summary&gt;

const std::vector&lt;std::shared_ptr&lt;web::http::compression::decompress_factory&gt;&gt; get_decompress_factories();

} // namespace builtin
} // namespace details

} // namespace compression
} // namespace http
} // namespace web</pre>
        <hr />
        <table width="100%">
            <thead>
                <tr>
                    <th align="center">
                        <small>Generated by</small>
                        <a href="https://github.com/OpenCppCoverage/OpenCppCoverage/releases">
                            <strong>OpenCppCoverage (Version: 0.9.9.0)</strong>
                        </a>
                    </th>
                </tr>
            </thead>
        </table>
    </body>
</html>