<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
	<head>
        <meta charset="utf-8"/>
	    <title>test_config_loader.cpp</title>
	    <link href="../../third-party/google-code-prettify/prettify-CppCoverage.css" type="text/css" rel="stylesheet" />
	    <script type="text/javascript" src="../../third-party/google-code-prettify/prettify.js"></script>
	</head>
    <body onload="prettyPrint()">
        <h4></h4>
        <pre class="prettyprint lang-cpp linenums">
#include &lt;gtest/gtest.h&gt;
#include "ConfigLoader.h"
#include &lt;cstdlib&gt;

<span style = "background-color:#dfd">TEST(ConfigLoader, LoadsValidConfig) {
    _putenv_s("ECOM_BRANDS", "Nike,Adidas,Puma");
    _putenv_s("ECOM_COLORS", "Red,Blue,Green");
    _putenv_s("ECOM_SIZES", "S,M,L");
    _putenv_s("ECOM_DEFAULT_IMAGE_URL", "http://example.com/default.jpg");
    auto&amp; loader = ConfigLoader::getInstance();
    ASSERT_TRUE(loader.load());
    EXPECT_EQ(loader.getBrands().size(), 3);
    EXPECT_EQ(loader.getColors().size(), 3);
    EXPECT_EQ(loader.getSizes().size(), 3);
    EXPECT_EQ(loader.getDefaultImageUrl(), "http://example.com/default.jpg");
    EXPECT_TRUE(loader.isValid());
}</span>

<span style = "background-color:#dfd">TEST(ConfigLoader, InvalidConfigMissingEnv) {
    _putenv_s("ECOM_BRANDS", "");
    _putenv_s("ECOM_COLORS", "");
    _putenv_s("ECOM_SIZES", "");
    _putenv_s("ECOM_DEFAULT_IMAGE_URL", "");
    auto&amp; loader = ConfigLoader::getInstance();
    ASSERT_FALSE(loader.load());
    EXPECT_FALSE(loader.isValid());
}</span></pre>
        <hr />
        <table width="100%">
            <thead>
                <tr>
                    <th align="center">
                        <small>Generated by</small>
                        <a href="https://github.com/OpenCppCoverage/OpenCppCoverage/releases">
                            <strong>OpenCppCoverage (Version: 0.9.9.0)</strong>
                        </a>
                    </th>
                </tr>
            </thead>
        </table>
    </body>
</html>